import os
from sklearn.ensemble import RandomForestClassifier
import pandas as pd
from sklearn import metrics
import matplotlib.pyplot as plt
from sklearn.metrics import PrecisionRecallDisplay
from sklearn.metrics import RocCurveDisplay
from sklearn.model_selection import RepeatedStratifiedKFold
import numpy as np

if __name__ == "__main__":

    print("Select the most common SNPs from merged version of (Familial and Autopsy) dataset and check those SNPs quality for getting the accuracy:")    
    
    SNPsDic = {136430: 21, 96891: 21, 164691: 21, 114500: 20, 68734: 19, 144798: 19, 157577: 19, 69808: 18, 173122: 18, 170550: 18, 125677: 18, 92646: 18, 102411: 18, 159871: 18, 126677: 18, 157760: 17, 175410: 17, 128315: 16, 161953: 16, 100055: 16, 170744: 16, 169176: 16, 121073: 15, 92613: 15, 54408: 15, 161461: 15, 66986: 15, 35621: 15, 11651: 15, 118443: 15, 91516: 15, 161760: 14, 56981: 14, 72159: 14, 56134: 14, 5977: 14, 164479: 14, 155597: 14, 166941: 14, 116352: 14, 3970: 14, 145368: 14, 119081: 14, 55260: 14, 35574: 14, 36817: 14, 115824: 13, 105691: 13, 171647: 13, 126906: 13, 102355: 13, 69542: 13, 174182: 13, 36462: 13, 28996: 13, 51610: 13, 17160: 13, 107594: 13, 157353: 13, 53920: 13, 74504: 13, 176391: 13, 113702: 13, 160136: 13, 151191: 13, 176003: 12, 103520: 12, 115862: 12, 119045: 12, 104589: 12, 35264: 12, 164233: 12, 51175: 12, 134976: 12, 37094: 12, 70221: 12, 25858: 12, 65965: 12, 133157: 12, 87755: 12, 9070: 12, 29460: 12, 20165: 12, 4459: 12, 21477: 12, 62958: 12, 88735: 11, 1159: 11, 160285: 11, 84914: 11, 131267: 11, 1107: 11, 123723: 11, 11751: 11, 138400: 11, 144339: 11, 76449: 11, 41872: 11, 97196: 11, 58583: 11, 133152: 11, 129381: 11, 73801: 11, 156920: 11, 105583: 11, 36173: 11, 139137: 11, 97789: 11, 73414: 11, 76799: 11, 89763: 11, 151022: 11, 110738: 11, 8354: 11, 86870: 11, 59490: 11, 134172: 11, 65133: 11, 170380: 10, 93131: 10, 12426: 10, 32272: 10, 113192: 10, 15731: 10, 41052: 10, 86241: 10, 9287: 10, 7523: 10, 8660: 10, 97807: 10, 76456: 10, 152901: 10, 50257: 10, 125196: 10, 170356: 10, 83657: 10, 139839: 10, 124084: 10, 101655: 10, 147915: 10, 44104: 10, 51164: 10, 136754: 10, 10384: 10, 102142: 10, 89074: 10, 120979: 10, 135865: 10, 39534: 10, 90665: 10, 73397: 10, 84392: 10, 110516: 9, 26560: 9, 58512: 9, 135455: 9, 37336: 9, 143450: 9, 44519: 9, 49109: 9, 79861: 9, 154329: 9, 29040: 9, 168297: 9, 76395: 9, 160725: 9, 94169: 9, 137236: 9, 138110: 9, 135700: 9, 71780: 9, 22499: 9, 75897: 9, 38642: 9, 30215: 9, 31270: 9, 56209: 9, 289: 9, 110918: 9, 94439: 9, 97450: 9, 25353: 9, 124083: 9, 175512: 9, 71451: 9, 30426: 9, 59538: 9, 133917: 9, 95372: 9, 114703: 9, 59602: 9, 118486: 9, 162756: 9, 110148: 9, 142505: 9, 73219: 9, 97337: 9, 157743: 9, 11307: 9, 104083: 9, 34630: 9, 27319: 9, 18166: 9, 68775: 9, 153710: 9, 46832: 9, 71425: 9, 5788: 9, 80202: 9, 29897: 9, 105664: 8, 162289: 8, 107573: 8, 32918: 8, 138974: 8, 144090: 8, 113332: 8, 94986: 8, 105657: 8, 67043: 8, 57003: 8, 13712: 8, 76666: 8, 161318: 8, 11297: 8, 90006: 8, 142629: 8, 174404: 8, 101377: 8, 151574: 8, 91251: 8, 139330: 8, 10826: 8, 20916: 8, 121469: 8, 115386: 8, 174783: 8, 159907: 8, 161816: 8, 170757: 8, 139455: 8, 77360: 8, 140642: 8, 37817: 8, 117694: 8, 167719: 8, 31610: 8, 90417: 8, 298: 8, 153989: 8, 67697: 8, 159332: 8, 92057: 8, 85815: 8, 180807: 8, 151984: 8, 117936: 8, 23078: 8, 39104: 8, 100326: 8, 150717: 8, 73194: 8, 155434: 8, 154582: 8, 7830: 8, 94916: 8, 109144: 8, 175875: 7, 133818: 7, 4204: 7, 31852: 7, 143125: 7, 164065: 7, 57359: 7, 127776: 7, 29902: 7, 38375: 7, 138874: 7, 59764: 7, 62774: 7, 170719: 7, 84159: 7, 142791: 7, 38901: 7, 113262: 7, 154532: 7, 12307: 7, 14461: 7, 43564: 7, 150782: 7, 38830: 7, 171519: 7, 84329: 7, 121212: 7, 152400: 7, 133054: 7, 131009: 7, 51295: 7, 79859: 7, 110633: 7, 98210: 7, 139614: 7, 77858: 7, 76759: 7, 121057: 7, 109477: 7, 46922: 7, 32196: 7, 142649: 7, 82229: 7, 121703: 7, 7266: 7, 97924: 7, 113349: 7, 116576: 7, 173350: 7, 155056: 7, 16238: 7, 24263: 7, 8311: 7, 161698: 7, 122953: 7, 71922: 7, 111711: 7, 101283: 7, 149032: 7, 166763: 7, 162667: 7, 41191: 7, 68649: 7, 73888: 7, 134018: 7, 168963: 7, 12961: 7, 39029: 7, 48436: 7, 22732: 7, 137683: 7, 175329: 7, 152371: 7, 94192: 7, 22531: 7, 39934: 7, 45815: 7, 173330: 7, 7527: 7, 47563: 6, 141216: 6, 125975: 6, 139270: 6, 91274: 6, 78908: 6, 119420: 6, 50390: 6, 139811: 6, 121102: 6, 111620: 6, 69621: 6, 168918: 6, 143530: 6, 74807: 6, 77265: 6, 8524: 6, 57834: 6, 138690: 6, 83814: 6, 3602: 6, 164411: 6, 61577: 6, 11418: 6, 24503: 6, 65625: 6, 149609: 6, 98710: 6, 77887: 6, 68692: 6, 37235: 6, 138463: 6, 73343: 6, 23163: 6, 139114: 6, 160463: 6, 175880: 6, 50351: 6, 42945: 6, 48232: 6, 33513: 6, 74436: 6, 15354: 6, 54725: 6, 88217: 6, 24204: 6, 97107: 6, 175479: 6, 134631: 6, 124332: 6, 99957: 6, 92807: 6, 111245: 6, 168680: 6, 13808: 6, 29786: 6, 39457: 6, 85947: 6, 118280: 6, 57970: 6, 19007: 6, 92713: 6, 127012: 6, 7370: 6, 175876: 6, 41711: 6, 99712: 6, 101492: 6, 138680: 6, 113221: 6, 56143: 6, 144791: 6, 7813: 6, 43106: 6, 95228: 6, 93798: 6, 77257: 6, 25638: 6, 105297: 6, 137201: 6, 90213: 6, 143168: 6, 156085: 6, 27189: 5, 107181: 5, 28597: 5, 144221: 5, 172070: 5, 111593: 5, 143301: 5, 8807: 5, 66999: 5, 168270: 5, 85667: 5, 47629: 5, 168834: 5, 65102: 5, 73564: 5, 60308: 5, 120528: 5, 149987: 5, 173877: 5, 129094: 5, 36964: 5, 107770: 5, 86059: 5, 77350: 5, 134339: 5, 38131: 5, 91495: 5, 44849: 5, 123182: 5, 30498: 5, 59867: 5, 171268: 5, 40233: 5, 92489: 5, 15003: 5, 91167: 5, 106967: 5, 123211: 5, 155545: 5, 120170: 5, 90196: 5, 31241: 5, 98316: 5, 79406: 5, 120029: 5, 161331: 5, 112153: 5, 55840: 5, 98893: 5, 173844: 5, 74873: 5, 73215: 5, 36040: 5, 133140: 5, 134510: 5, 11780: 5, 39879: 5, 69556: 5, 158574: 5, 5850: 5, 68627: 5, 86194: 5, 61815: 5, 11504: 5, 173222: 5, 44698: 5, 108158: 5, 114388: 5, 136979: 5, 71527: 5, 6034: 5, 35585: 5, 52276: 5, 77031: 5, 172295: 5, 120525: 5, 135514: 5, 41827: 5, 162507: 5, 81347: 5, 18378: 5, 98850: 5, 36439: 5, 128431: 5, 28418: 5, 69461: 5, 45966: 5, 85316: 5, 134554: 5, 26249: 5, 2363: 5, 43056: 5, 18471: 5, 53748: 5, 27638: 5, 130560: 5}

    
    SNPsList = list(SNPsDic.keys())
    print(SNPsList)

    path = '/scratch/fs2/usefi/pd/datasets/All_Aproaches/Approach4/Datasets/ID/'

    print("current path of working space= " + path)
  
        
    # This is the smaller dataset (we found the SNPs from this dataset)
    print("Reading FamilyAutopsy(MergedAndBalanced).csv ...")
    df= pd.read_csv(path + "FamilyAutopsy(MergedAndBalanced).csv")
    
    count_row = df.shape[0]  # gives number of row count
    count_col = df.shape[1]  # gives number of col count

    print("The Number Samples in This Dataset: " + str(count_row))
    print("The Number Features in This Dataset: " + str(count_col))

    # X contains selected features except the labels
    x = df.iloc[:, SNPsList]
    # x = df.iloc[:, df.columns.isin(SNPsList)]
    
    print(x.shape)
    
    for col in x.columns:
      print(col)     